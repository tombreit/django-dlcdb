{% load i18n admin_urls %}

<div class="btn-group btn-group{% if not is_device_detail_page %}-sm{% endif %}" role="group">

    {% for info in current_record_infos %}
        {% if info.url %}
            <a 
                class="{{ info.css_classes }}"
                title="{{ info.title }}"
                href="{{ info.url }}"
            >
                {{ info.label }}
            </a>
        {% else %}
            <span
                class="{{ info.css_classes }}"
                title="{{ info.title }}"
            >
                {{ info.label }}
            </span>
        {% endif %}
    {% endfor %}

    <div class="btn-group btn-group{% if not is_device_detail_page %}-sm{% endif %}" role="group">
        <button id="newRecord" type="button" class="btn btn-secondary dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
            <i class="fa fa-plus"></i>
        </button>
        <div class="dropdown-menu" aria-labelledby="newRecord">
        {% for add_link in add_links %}
            <a 
                class="dropdown-item"
                href="{{ add_link.url }}"
            >
                {{ add_link.label|title }}
            </a>
        {% endfor %}
        </div>
    </div>
</div>

{% comment %}
{% if active_record and not list_view %}
    <a class="small ml-4" href="{% url "admin:core_record_changelist" %}?device__id__exact={{ obj.id }}">
        <i class="fa fa-search"></i> Alle Records anzeigen
    </a>
{% endif %}

{% if is_device_detail_page %}
    {% url opts|admin_urlname:'history' original.pk|admin_urlquote as history_url %}
    <a class="small ml-4" href="{% add_preserved_filters history_url %}" class="historylink">
        <i class="fa fa-history"></i> {% trans "History" %}
    </a>
{% endif %}
{% endcomment %}
